<div id="cmd-palette" class="fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm hidden flex items-start pt-32 justify-center transition-opacity opacity-0" aria-hidden="true">
  <div class="bg-white dark:bg-[#111] w-full max-w-xl rounded-2xl border border-gray-200 dark:border-[#333] shadow-2xl overflow-hidden transform scale-95 transition-transform flex flex-col">
    
    <div class="border-b border-gray-200 dark:border-[#333] p-4 flex items-center gap-3">
        <span class="text-gray-400 text-lg">ğŸ”</span>
        <input type="text" id="cmd-input" placeholder="Search pages, files, or change theme..." class="w-full bg-transparent border-none focus:outline-none text-gray-900 dark:text-white h-full text-lg placeholder-gray-500" autocomplete="off"/>
        <span class="text-xs font-mono text-gray-400 border border-gray-200 dark:border-[#333] px-2 py-1 rounded">ESC</span>
    </div>

    <div class="p-2 space-y-1 max-h-[60vh] overflow-y-auto">
        <div class="text-xs font-bold text-gray-400 px-4 py-2 uppercase tracking-wider">Navigation</div>
        
        <a href="/" class="cmd-item block px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-[#1f1f1f] text-gray-700 dark:text-gray-300 transition flex items-center justify-between group">
            <div class="flex items-center gap-3"><span class="text-xl">ğŸ </span> <span class="font-medium group-hover:text-indigo-500 transition">Home</span></div>
            <span class="text-xs text-gray-500">Dashboard</span>
        </a>
        <a href="/about" class="cmd-item block px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-[#1f1f1f] text-gray-700 dark:text-gray-300 transition flex items-center justify-between group">
            <div class="flex items-center gap-3"><span class="text-xl">ğŸ¨</span> <span class="font-medium group-hover:text-indigo-500 transition">Creative Portfolio</span></div>
            <span class="text-xs text-gray-500">Music & Photos</span>
        </a>
        <a href="/blog" class="cmd-item block px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-[#1f1f1f] text-gray-700 dark:text-gray-300 transition flex items-center justify-between group">
            <div class="flex items-center gap-3"><span class="text-xl">ğŸ“</span> <span class="font-medium group-hover:text-indigo-500 transition">Blog</span></div>
            <span class="text-xs text-gray-500">Read Articles</span>
        </a>

        <div class="text-xs font-bold text-gray-400 px-4 py-2 uppercase tracking-wider mt-2">Actions</div>

        <a href="/resume.pdf" class="cmd-item block px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-[#1f1f1f] text-gray-700 dark:text-gray-300 transition flex items-center justify-between group">
            <div class="flex items-center gap-3"><span class="text-xl">ğŸ“„</span> <span class="font-medium group-hover:text-indigo-500 transition">Download Resume</span></div>
            <span class="text-xs text-gray-500">PDF</span>
        </a>
        <button id="cmd-theme-toggle" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-100 dark:hover:bg-[#1f1f1f] text-gray-700 dark:text-gray-300 transition flex items-center justify-between group">
            <div class="flex items-center gap-3"><span class="text-xl">ğŸŒ™</span> <span class="font-medium group-hover:text-yellow-500 transition">Toggle Theme</span></div>
            <span class="text-xs text-gray-500">Light / Dark</span>
        </button>
    </div>
  </div>
</div>

<script>
  const palette = document.getElementById('cmd-palette');
  const input = document.getElementById('cmd-input');

  document.addEventListener('keydown', (e) => {
    if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        togglePalette();
    }
    if (e.key === 'Escape') closePalette();
  });

  function togglePalette() {
    if (palette.classList.contains('hidden')) {
        palette.classList.remove('hidden');
        setTimeout(() => {
            palette.classList.remove('opacity-0');
            palette.querySelector('div').classList.remove('scale-95');
            input.focus();
        }, 10);
    } else {
        closePalette();
    }
  }

  function closePalette() {
    palette.classList.add('opacity-0');
    palette.querySelector('div').classList.add('scale-95');
    setTimeout(() => palette.classList.add('hidden'), 200);
  }

  palette.addEventListener('click', (e) => { if (e.target === palette) closePalette(); });

  document.getElementById('cmd-theme-toggle').addEventListener('click', () => {
    document.documentElement.classList.toggle("dark");
    localStorage.setItem("theme", document.documentElement.classList.contains("dark") ? "dark" : "light");
    closePalette();
  });
</script>
